{"mappings":"AAEA,MAAMA,EAAgBC,SAASC,cAAc,iBACvCC,EAAYF,SAASC,cAAc,WACnCE,EAAWH,SAASC,cAAc,UAClCG,EAAgBJ,SAASC,cAAc,aAC7CC,EAAUG,MAAMC,QAAU,QCCjBC,MAAM,qHAAkCC,MAAKC,GAC3CA,EAASC,SDAjBF,MAAKG,IACJT,EAAUG,MAAMC,QAAU,OAC1BP,EAAca,UAA+BD,EAW5CE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,IAXNjB,EAAcM,MAAMC,QAAU,OAAO,IAGtCW,OAAMC,IACLf,EAASE,MAAMC,QAAU,QACzBJ,EAAUG,MAAMC,QAAU,MAAM,IAoCpCP,EAAcoB,iBAAiB,UA5B/B,SAAqBC,GCZrB,IAAyBC,EDavBnB,EAAUG,MAAMC,QAAU,QAC1BF,EAAcQ,UAAY,ICdHS,EDePD,EAAME,cAAcC,MCV7BhB,MAAM,wDAAyBc,mFAA8Bb,MAClEC,GACSA,EAASC,UDSjBF,MAAKG,IACJT,EAAUG,MAAMC,QAAU,OAC1BkB,QAAQC,IAAId,GACZP,EAAcQ,UAAyBD,EAUxCE,KACC,EAACa,IAAEA,EAAKC,SAASZ,KAAEA,EAAIa,YAAEA,EAAWC,YAAEA,OACpC,aAAaH,uEAEPX,sBACDa,8CACyBC,0BAGjCb,KAAK,GAnBwC,IAE7CC,OAAMC,IACLf,EAASE,MAAMC,QAAU,QACzBJ,EAAUG,MAAMC,QAAU,MAAM,G","sources":["src/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst breedselector = document.querySelector('.breed-select');\nconst loaderMsg = document.querySelector('.loader');\nconst errorMsg = document.querySelector('.error');\nconst textInfoBlock = document.querySelector('.cat-info');\nloaderMsg.style.display = 'block';\nfetchBreeds()\n  .then(data => {\n    loaderMsg.style.display = 'none';\n    breedselector.innerHTML = createSelectMarkup(data);\n    breedselector.style.display = 'block';\n    // console.log(data);\n  })\n  .catch(err => {\n    errorMsg.style.display = 'block';\n    loaderMsg.style.display = 'none';\n  });\n\nfunction createSelectMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\nfunction handleClick(event) {\n  loaderMsg.style.display = 'block';\n  textInfoBlock.innerHTML = '';\n  fetchCatByBreed(event.currentTarget.value)\n    .then(data => {\n      loaderMsg.style.display = 'none';\n      console.log(data);\n      textInfoBlock.innerHTML = createMarkup(data);\n    })\n    .catch(err => {\n      errorMsg.style.display = 'block';\n      loaderMsg.style.display = 'none';\n    });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ url, breeds: [{ name, description, temperament }] }) =>\n        `<img src=\"${url}\" width='400px'>\n        <div class=\"cat-info-text\">\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p><span>Temperament:</span>${temperament}</p>\n        </div>`\n    )\n    .join('');\n}\nbreedselector.addEventListener('change', handleClick);\n","function fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n  const API_KEY =\n    'live_ios2ViwVftg3OAym14VSiesOXjCkOsDERoxC7To1ST9s1rQKqYjTMpKJreUyVgzl';\n  // const params = new URLSearchParams({\n  //     api_key: API_KEY,\n  // })\n  return fetch(`${BASE_URL}?api_key=${API_KEY}`).then(response => {\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  const BASE_URL = 'https://api.thecatapi.com/v1/images/search';\n  const API_KEY =\n    'live_ios2ViwVftg3OAym14VSiesOXjCkOsDERoxC7To1ST9s1rQKqYjTMpKJreUyVgzl';\n\n  return fetch(`${BASE_URL}?breed_ids=${breedId}&api_key=${API_KEY}`).then(\n    response => {\n      return response.json();\n    }\n  );\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["$1f0dc3b9307be026$var$breedselector","document","querySelector","$1f0dc3b9307be026$var$loaderMsg","$1f0dc3b9307be026$var$errorMsg","$1f0dc3b9307be026$var$textInfoBlock","style","display","fetch","then","response","json","data","innerHTML","map","id","name","join","catch","err","addEventListener","event","breedId","currentTarget","value","console","log","url","breeds","description","temperament"],"version":3,"file":"index.652f418e.js.map"}